% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/narrative.R
\name{get_percent}
\alias{get_percent}
\title{FPS: Narrative: Extract a single percentage from the analysis results}
\usage{
get_percent(.data, questions, response_key, svy_year)
}
\arguments{
\item{.data}{A list of data frames, each representing survey question data.}

\item{questions}{A character or numeric vector specifying the question(s) to
process. Numeric input is automatically converted to "QX" format (e.g.
\code{"Q4"}).}

\item{response_key}{A character vector of keywords for the desired
response(s). Supports regex patterns for filtering responses.}

\item{svy_year}{A numeric or character string representing the survey year
(e.g. \code{2024}).}
}
\value{
A string representing the percentage value(s) for the specified
question(s) and response(s). If multiple responses are provided, their
values are summed.
}
\description{
This function extracts and calculates the percentage value for a
given set of questions and response keys from the analysed survey data.
}
\details{
\itemize{
\item Rounds values using \link[janitor]{round_half_up} before summing to ensure consistency.
\item Handles filtering of irregular or multiple-choice data with validation.
\item Provides warnings and errors when input parameters are missing or invalid.
}
}
\examples{
#data_list <- list(Q4 = data.frame(year = "2024", value = c(50, 30),
#                                  response = c("yes", "no")))
#get_percent(data_list, questions = 4, response_key = "yes", svy_year = "2024")

}
\seealso{
\link[janitor]{round_half_up}
}
\author{
Tom Pearson
}
